# Преобразование осеннего и летнего пейзажей

Превращение осеннего пейзажа (Photo1.jpg) в летний вид (Summer.jpg) и летнего (Photo2.jpg) в осенний (Autumn.jpg) за счёт перекрашивания листвы в цветовой модели HSV. Решение не требует соответствия между снимками и даёт два выходных файла по условию задания.

## Структура проекта

- `convert_seasons.py` — программа преобразования
- `ALGORITHM.md` — описание алгоритма, структуры реализации, достоинств и недостатков
- `requirements.txt` — зависимости (numpy, opencv-python)

## Использование

В каталоге с `Photo1.jpg` и `Photo2.jpg`:

```
python convert_seasons.py
```

С указанием каталога с фото и каталога для результатов:

```
python convert_seasons.py путь/к/фото -o путь/к/результатам
```

Результат: `Summer.jpg` (из Photo1.jpg), `Autumn.jpg` (из Photo2.jpg).

## Почему решение проходит все критерии

### Критерий I (до 7 баллов): описаны методы, позволяющие осуществить «превращения»

В решении явно заданы два направления преобразования и способ их реализовать.

**Модель HSV.** Оттенок (H) в диапазоне 0–180 кодирует цвет: осенняя листва — красный/оранжевый/жёлтый (0–50 и 150–180), летняя — зелёный (35–85). Насыщенность и яркость используются только для маски «листва», чтобы не перекрашивать небо, стволы и тени.

**Осень → лето.** Выделяются пиксели с тёплым H и достаточными S, V; для них по таблице (LUT) H заменяется на зелёный диапазон (40–80). Маска размывается, новый H смешивается со старым по весу маски — границы без резких переходов.

**Лето → осень.** Аналогично: маска по зелёному H (30–95), LUT переводит H в оранжево-красный (8–28), смешивание по маске.

Методы описаны в [ALGORITHM.md](ALGORITHM.md) в разделе «Методы преобразования»; в коде им соответствуют LUT, `_foliage_mask` и `apply_season_transform`.

### Критерий II (до 6 баллов): предложена структура алгоритма и описана работа реализации

**Структура алгоритма.** Загрузка Photo1 и Photo2 → для Summer.jpg: Photo1 → BGR→HSV → маска осенней листвы → LUT по H → смешивание H по маске → HSV→BGR → сохранение; для Autumn.jpg: Photo2 по той же схеме с маской зелёной листвы и LUT зелень→осень.

**Реализация.** В `convert_seasons.py`: функции построения LUT (`_build_hue_map_autumn_to_summer`, `_build_hue_map_summer_to_autumn`), маска листвы по H/S/V с размытием (`_foliage_mask`), применение преобразования в HSV (`apply_season_transform`), обёртки для BGR (`autumn_to_summer`, `summer_to_autumn`), точка входа с разбором аргументов и записью Summer.jpg и Autumn.jpg. Описание пошаговой схемы и назначения функций приведено в [ALGORITHM.md](ALGORITHM.md) в разделе «Структура программы».

### Критерий III (до 4 баллов): приведена оценка достоинств и недостатков алгоритма

В [ALGORITHM.md](ALGORITHM.md) в разделе «Достоинства и недостатки» явно перечислены плюсы (простота и скорость, работа в одном канале H, маска уменьшает влияние на не-листву, настраиваемость порогов, независимая обработка каждого снимка) и минусы (меняется только цвет листвы, жёсткие диапазоны H, маска по цвету затрагивает траву и др., нет семантической сегментации, однородность по освещённости, зависимость от качества исходников).

---

## Зависимости

```
pip install -r requirements.txt
```

Python 3.7+, NumPy, OpenCV (opencv-python).
